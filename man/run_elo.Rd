% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions_PELO.R
\name{run_elo}
\alias{run_elo}
\title{Run Elo Rating Updates Across a Dataset}
\usage{
run_elo(
  K,
  data,
  current_ratings,
  player_id_mapping,
  new_player_initial_rating = 1500,
  keep_history = FALSE
)
}
\arguments{
\item{K}{Numeric, Elo K-factor for rating updates.}

\item{data}{A dataframe of match results with columns: \code{Time}, \code{A}, \code{B}, \code{match_result}.
\code{match_result} must be binary: 1 if player A won, 0 if player B won.}

\item{current_ratings}{Dataframe with columns \code{Player} and \code{Ratings} for the current ratings.}

\item{player_id_mapping}{Dataframe with columns \code{Names} and \code{ID} mapping player names to unique IDs.}

\item{new_player_initial_rating}{Numeric, initial rating assigned to any new players (default 1500).}

\item{keep_history}{TRUE/FALSE, whether to keep the rating history. Memory issues may arise when the number of players and number of games are large.}
}
\value{
A list containing:
\describe{
\item{ratings}{Dataframe of final ratings after all matches.}
\item{ratings_hist}{List of ratings after each match.}
\item{K}{Numeric, the Elo K-factor used.}
\item{type}{Character, always "ELO".}
\item{preds}{Numeric vector of predicted probabilities for each match outcome.}
\item{player_id_mapping}{Updated dataframe mapping player names to IDs including new players.}
}
}
\description{
Sequentially updates Elo ratings for all matches in a dataset and tracks predicted
probabilities and rating history. Supports adding new players dynamically.
}
\details{
The function loops over all matches, updates player ratings sequentially, and predicts
match probabilities. If any new players appear, they are added with \code{new_player_initial_rating}
and assigned new IDs.
}
\examples{
# Suppose df contains match data and ratings contains current ratings
# run_elo(32, df, ratings, player_id_mapping)

}
