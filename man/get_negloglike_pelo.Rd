% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions_PELO.R
\name{get_negloglike_pelo}
\alias{get_negloglike_pelo}
\title{Negative Log-Likelihood for PELO Ratings}
\usage{
get_negloglike_pelo(KK2_guess, data, current_ratings, current_pair_adv_mat)
}
\arguments{
\item{KK2_guess}{Numeric vector of length 2: \code{1} = Elo K, \code{2} = P-Elo K2}

\item{data}{A dataframe of match results with columns: \code{Time}, \code{A}, \code{B}, \code{match_result}.
\code{match_result} must be binary: 1 if player A won, 0 if player B won.}

\item{current_ratings}{A dataframe with columns \code{Player} and \code{Ratings} containing
the current ratings of all players.}

\item{current_pair_adv_mat}{Numeric matrix of pairwise advantages between players.
Must be square with row and column names equal to player names.}
}
\value{
Numeric, the negative log-likelihood of the match outcomes given the current ratings,
pairwise advantage matrix, and K-factors.
}
\description{
Computes the negative log-likelihood of a set of PELO ratings given observed match outcomes.
This function is intended for use in optimization to estimate the best K-factors
for both ratings and pairwise advantage updates.
}
\details{
Loops over all matches, computes predicted probability of the observed outcome using
PELO ratings with pairwise advantages, updates ratings and pairwise advantage matrix
sequentially, and accumulates the log-likelihood. A minimum probability of 1e-6 is used
to prevent numerical issues with log(0).
}
\examples{
# Suppose df contains match data, ratings contains current ratings,
# and pair_adv_mat contains pairwise advantages
# get_negloglike_pelo(c(32,16), df, ratings, pair_adv_mat)

}
